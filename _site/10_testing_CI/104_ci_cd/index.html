<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>CI/CD | Android курс в Технополисе 2019</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="CI/CD" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/10_testing_CI/104_ci_cd/" />
<meta property="og:url" content="http://localhost:4000/10_testing_CI/104_ci_cd/" />
<meta property="og:site_name" content="Android курс в Технополисе 2019" />
<script type="application/ld+json">
{"url":"http://localhost:4000/10_testing_CI/104_ci_cd/","headline":"CI/CD","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=d3418c91688b3f949df607a428f4549250f0b594">
  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">Android курс в Технополисе 2019</a></h1>
      

      <p>Все что было описано выше - это хорошо и легко, когда работает один человек и у него много свободного времени. Т.е. он
может собрать проект и запустить тесты, посмотреть результаты. Т.к. он работает один, то скорее всего ему будет легко
найти ошибки и поправвить. Но все меняется когда команда разработки начинает расти и фичи надо выпускать раз в неделю.
Рассмотрим то как ведется процесс разработки у нас.</p>

<h2 id="cicd">CI/CD</h2>
<p>Под термином обычно понимают автоматическую сборку и прогон тестов после слияния веток.
Рассмотрим, что происходит с момента создания твски до готового приложения.
<img src="img/continous_delivery.jpeg" width="1200px" /></p>
<ol>
  <li>Разработчику прилетает таска в Jire (там конечно описания по-больше будет).
<img src="img/ficha.png" width="1200px" /></li>
  <li>Он отводит ветку под эту задачу и начинает ее делать.
Он работает в своей ветке и по готовности делает пулл-реквест.
<img src="img/git_flow.png" width="1200px" /></li>
  <li>Пул-реквест смотрят другие разработчики и пишут замечания.
<img src="img/pull_request.png" width="1200px" /></li>
  <li>Также на пулл-реквест запускаются Unit и UI тесты, но не совсем обычно.
Мы не запускаем тесты на чистой бранче, так как там могут быть изменения, которые могут сломать нам девелоп.
<img src="img/branch1.png" width="1200px" /></li>
  <li>Мы подмердживаем <code class="highlighter-rouge">develop</code> себе в ветку и гоняем на таком гибриде.
Это делается для того чтобы девелоп был всегда зеленый.
<img src="img/branch2.png" width="1200px" /></li>
  <li>Если падают Unit’ы, значит, что при мердже в <code class="highlighter-rouge">develop</code> разработчик бы сломал его.
Тогда мы запрещаем ему мерджить в стеше.
<img src="img/zapret_merge.png" width="1200px" /></li>
  <li>Для UI-тестов мы присылаем отчет о сравнении двух раундов. Того, который подмержили (develop) и для ветки с подмердженным
develop’ом.
<img src="img/stash_report.png" width="1200px" /></li>
  <li>UI тесты иногда падают не из-за ошибок, а из-за других проблем, поэтому разработчик может перейти в отчет и проверить.
<img src="img/watson_unstable.png" width="1200px" /> 
<img src="img/watson_color.png" width="1200px" /></li>
  <li>Если у нет замечаний и тесты все прошли, то разработчик может вмерджить всой пул-реквест.</li>
  <li>Дальше в определенный день (code freeze) ветка <code class="highlighter-rouge">develop</code> отводится в <code class="highlighter-rouge">stable</code> и тестировщики провяют новые фичи, на 
которые пока не написаны автоматизированные тесты. Вносятся исправления в <code class="highlighter-rouge">stable</code>.</li>
  <li>В пятницу собирается релизная версия приложения. А в воскресенье начинается раскатка на 5%.</li>
  <li>С новой недели анализируются крэши и раскатка продолжается.</li>
</ol>

<h2 id="ферма-ui-тестов">Ферма UI тестов</h2>
<p><img src="img/qr.png" width="1200px" /></p>



      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
    
  </body>
</html>
