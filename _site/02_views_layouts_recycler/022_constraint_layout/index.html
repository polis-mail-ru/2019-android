<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>ConstraintLayout | Android курс в Технополисе 2019</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="ConstraintLayout" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/02_views_layouts_recycler/022_constraint_layout/" />
<meta property="og:url" content="http://localhost:4000/02_views_layouts_recycler/022_constraint_layout/" />
<meta property="og:site_name" content="Android курс в Технополисе 2019" />
<script type="application/ld+json">
{"url":"http://localhost:4000/02_views_layouts_recycler/022_constraint_layout/","headline":"ConstraintLayout","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=d3418c91688b3f949df607a428f4549250f0b594">
  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">Android курс в Технополисе 2019</a></h1>
      

      <p>В этом уроке мы научимся работать с самым мощным лейаутом - <code class="highlighter-rouge">ConstraintLayout</code>.</p>

<h2 id="обзор">Обзор</h2>

<p><code class="highlighter-rouge">Constraints</code> — это линии разметки, на основе которых располагаются <code class="highlighter-rouge">View</code> внутри <code class="highlighter-rouge">ConstraintLayout</code>. <code class="highlighter-rouge">Constraints</code> могут быть привязаны к сторонам родителя или к сторонам других <code class="highlighter-rouge">View</code>. <code class="highlighter-rouge">ConstraintLayout</code> это <code class="highlighter-rouge">RelativeLayout</code> на “стероидах”. <code class="highlighter-rouge">Constraints</code> можно разделить на вертикальные и горизонтальные.</p>

<p>Горизонтальные <code class="highlighter-rouge">Constraints</code>:</p>

<ul>
  <li>правая сторона (right);</li>
  <li>левая сторона (left);</li>
  <li>начало элемента (start);</li>
  <li>конец элемента (end).</li>
</ul>

<p>Вертикальные <code class="highlighter-rouge">Constraints</code>:</p>

<ul>
  <li>верхняя сторона (top);</li>
  <li>нижняя сторона (bottom);</li>
  <li>базовая линия (baseline).</li>
</ul>

<p><code class="highlighter-rouge">Baseline</code> — это линия выравнивания контента. Например, для <code class="highlighter-rouge">TextView</code> - это линия строки, на которой пишется текст. Если у <code class="highlighter-rouge">View</code> выставлен <code class="highlighter-rouge">Baseline Constraint</code>, то базовая линия этого <code class="highlighter-rouge">View</code> будет находиться на уровне базовой линии <code class="highlighter-rouge">View</code>, к которой привязан <code class="highlighter-rouge">Сonstraint</code>.</p>

<p>Общий формат привязки <code class="highlighter-rouge">Constraint</code> выглядит следующим образом:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  app:layout_constraint{X}_to{Y}Of="{Z}"
</code></pre></div></div>

<p>где:</p>

<ul>
  <li><code class="highlighter-rouge">X</code> — <code class="highlighter-rouge">Constraint</code> привязываемой <code class="highlighter-rouge">View</code>;</li>
  <li><code class="highlighter-rouge">Y</code> — сторона <code class="highlighter-rouge">View</code>, к которой привязываются;</li>
  <li><code class="highlighter-rouge">Z</code> — <code class="highlighter-rouge">id</code> <code class="highlighter-rouge">View</code>, к которой привязываются, или <code class="highlighter-rouge">parent</code>.</li>
</ul>

<p>Для того, что бы начать использовать <code class="highlighter-rouge">ConstraintLayout</code>, необходимо добавить зависимость в <code class="highlighter-rouge">build.gradle</code> файл:</p>

<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dependencies</span> <span class="o">{</span>
<span class="o">...</span>
    <span class="n">compile</span> <span class="s1">'com.android.support.constraint:constraint-layout:1.1.3'</span>
<span class="o">...</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="привязка-границ-настройка-ширины-и-высоты">Привязка границ, настройка ширины и высоты</h2>

<p><strong>Основные правила привязки сторон</strong>:</p>

<ul>
  <li>привязывать между собой можно только <code class="highlighter-rouge">Start</code> и <code class="highlighter-rouge">End</code>, <code class="highlighter-rouge">Left</code> и <code class="highlighter-rouge">Right</code>, <code class="highlighter-rouge">Top</code> и <code class="highlighter-rouge">Bottom</code>. <strong>Нельзя</strong> привязать <code class="highlighter-rouge">Left</code> к <code class="highlighter-rouge">Start</code> или <code class="highlighter-rouge">Baseline</code> к <code class="highlighter-rouge">Top</code>!</li>
  <li><strong>не</strong> привязывайте view с внешней стороны родителя, например, <code class="highlighter-rouge">layout_constraintRight_toLeftOf="parent"</code>!</li>
  <li>при привязке <code class="highlighter-rouge">Start</code> или <code class="highlighter-rouge">End</code> игнорируются привязки <code class="highlighter-rouge">Left</code>и <code class="highlighter-rouge">Right</code>;</li>
  <li><code class="highlighter-rouge">Baseline</code> можно привязать только к <code class="highlighter-rouge">Baseline</code>;</li>
  <li>при привязке <code class="highlighter-rouge">Baseline</code> игнорируются привязки <code class="highlighter-rouge">Top</code> и <code class="highlighter-rouge">Bottom</code>.</li>
</ul>

<p><strong>Размеры View</strong></p>

<p>Чтобы задать размеры <code class="highlighter-rouge">View</code>, используются обязательные атрибуты <code class="highlighter-rouge">layout_width</code> и <code class="highlighter-rouge">layout_height</code>, и необязательные атрибуты <code class="highlighter-rouge">layout_constraintWidth_default</code> и <code class="highlighter-rouge">layout_constraintHeight_default</code>. Значение атрибутов <code class="highlighter-rouge">layout_constraintWidth_default</code> и <code class="highlighter-rouge">layout_constraintHeight_default</code> по умолчанию равно <code class="highlighter-rouge">spread</code>.</p>

<p>Рассмотрим на примере ширины, каким образом нам задавать значения:</p>

<ol>
  <li>Фиксированный размер <code class="highlighter-rouge">View</code>. <code class="highlighter-rouge">layout_width="100dp"</code>.</li>
</ol>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;android.support.constraint.ConstraintLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>
    <span class="na">android:gravity=</span><span class="s">"bottom"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;View</span>
        <span class="na">android:id=</span><span class="s">"@+id/left"</span>
        <span class="na">android:layout_width=</span><span class="s">"100dp"</span>
        <span class="na">android:layout_height=</span><span class="s">"0dp"</span>
        <span class="na">android:background=</span><span class="s">"#FFFF00"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:layout_width=</span><span class="s">"100dp"</span>
        <span class="na">android:layout_height=</span><span class="s">"300dp"</span>
        <span class="na">android:background=</span><span class="s">"#FF0000"</span>
        <span class="na">android:text=</span><span class="s">"Very very long text text text text"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintBottom_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintEnd_toStartOf=</span><span class="s">"@id/right"</span>
        <span class="na">app:layout_constraintStart_toEndOf=</span><span class="s">"@id/left"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;View</span>
        <span class="na">android:id=</span><span class="s">"@+id/right"</span>
        <span class="na">android:layout_width=</span><span class="s">"100dp"</span>
        <span class="na">android:layout_height=</span><span class="s">"0dp"</span>
        <span class="na">android:background=</span><span class="s">"#FFFF00"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;/android.support.constraint.ConstraintLayout&gt;</span>
</code></pre></div></div>

<p><img src="img/constraint_fixed_width.png" width="400px" /></p>

<ol>
  <li>Разрешаем <code class="highlighter-rouge">View</code> самой рассчитать свой размер. <code class="highlighter-rouge">layout_width="wrap_content"</code>.</li>
</ol>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;android.support.constraint.ConstraintLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>
    <span class="na">android:gravity=</span><span class="s">"bottom"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;View</span>
        <span class="na">android:id=</span><span class="s">"@+id/left"</span>
        <span class="na">android:layout_width=</span><span class="s">"100dp"</span>
        <span class="na">android:layout_height=</span><span class="s">"0dp"</span>
        <span class="na">android:background=</span><span class="s">"#FFFF00"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"300dp"</span>
        <span class="na">android:background=</span><span class="s">"#FF0000"</span>
        <span class="na">android:text=</span><span class="s">"Very very long text text text text"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintBottom_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintEnd_toStartOf=</span><span class="s">"@id/right"</span>
        <span class="na">app:layout_constraintStart_toEndOf=</span><span class="s">"@id/left"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;View</span>
        <span class="na">android:id=</span><span class="s">"@+id/right"</span>
        <span class="na">android:layout_width=</span><span class="s">"100dp"</span>
        <span class="na">android:layout_height=</span><span class="s">"0dp"</span>
        <span class="na">android:background=</span><span class="s">"#FFFF00"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;/android.support.constraint.ConstraintLayout&gt;</span>
</code></pre></div></div>

<p><img src="img/constraint_wrap_width.png" width="400px" /></p>

<ol>
  <li>Разрешаем View заполнить всю доступную ширину. <code class="highlighter-rouge">layout_width="0dp",  layout_constraintWidth_default="spread"</code>. По-умолчанию <code class="highlighter-rouge">layout_constraintWidth_default</code> уже имеет значение <code class="highlighter-rouge">spread</code>, его можно не писать.</li>
</ol>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;android.support.constraint.ConstraintLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>
    <span class="na">android:gravity=</span><span class="s">"bottom"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;View</span>
        <span class="na">android:id=</span><span class="s">"@+id/left"</span>
        <span class="na">android:layout_width=</span><span class="s">"100dp"</span>
        <span class="na">android:layout_height=</span><span class="s">"0dp"</span>
        <span class="na">android:background=</span><span class="s">"#FFFF00"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:layout_width=</span><span class="s">"0dp"</span>
        <span class="na">android:layout_height=</span><span class="s">"300dp"</span>
        <span class="na">android:background=</span><span class="s">"#FF0000"</span>
        <span class="na">android:text=</span><span class="s">"Very very long text text text text"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintBottom_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintEnd_toStartOf=</span><span class="s">"@id/right"</span>
        <span class="na">app:layout_constraintStart_toEndOf=</span><span class="s">"@id/left"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintWidth_default=</span><span class="s">"spread"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;View</span>
        <span class="na">android:id=</span><span class="s">"@+id/right"</span>
        <span class="na">android:layout_width=</span><span class="s">"100dp"</span>
        <span class="na">android:layout_height=</span><span class="s">"0dp"</span>
        <span class="na">android:background=</span><span class="s">"#FFFF00"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;/android.support.constraint.ConstraintLayout&gt;</span>
</code></pre></div></div>

<p><img src="img/constraint_long_spread.png" width="400px" /></p>

<ol>
  <li>Разрешаем View самой рассчитать свой размер, но не больше чем доступная ширина. <code class="highlighter-rouge">layout_width="0dp", layout_constraintWidth_default="wrap"</code>.</li>
</ol>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;android.support.constraint.ConstraintLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>
    <span class="na">android:gravity=</span><span class="s">"bottom"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;View</span>
        <span class="na">android:id=</span><span class="s">"@+id/left"</span>
        <span class="na">android:layout_width=</span><span class="s">"100dp"</span>
        <span class="na">android:layout_height=</span><span class="s">"0dp"</span>
        <span class="na">android:background=</span><span class="s">"#FFFF00"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:layout_width=</span><span class="s">"0dp"</span>
        <span class="na">android:layout_height=</span><span class="s">"300dp"</span>
        <span class="na">android:background=</span><span class="s">"#FF0000"</span>
        <span class="na">android:text=</span><span class="s">"Very very long text text text text"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintBottom_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintEnd_toStartOf=</span><span class="s">"@id/right"</span>
        <span class="na">app:layout_constraintStart_toEndOf=</span><span class="s">"@id/left"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintWidth_default=</span><span class="s">"wrap"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;View</span>
        <span class="na">android:id=</span><span class="s">"@+id/right"</span>
        <span class="na">android:layout_width=</span><span class="s">"100dp"</span>
        <span class="na">android:layout_height=</span><span class="s">"0dp"</span>
        <span class="na">android:background=</span><span class="s">"#FFFF00"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;/android.support.constraint.ConstraintLayout&gt;</span>
</code></pre></div></div>

<p><img src="img/constraint_long_wrap.png" width="400px" /></p>

<p>Результат получился таким же, как и в предыдущем случае, это связано с тем, что у нас достаточно большой текст. Давайте попробуем уменьшить длинную текста и посмотрим что получится:</p>

<p><code class="highlighter-rouge">layout_width="0dp",  layout_constraintWidth_default="spread"</code> для короткого текста:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;android.support.constraint.ConstraintLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>
    <span class="na">android:gravity=</span><span class="s">"bottom"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;View</span>
        <span class="na">android:id=</span><span class="s">"@+id/left"</span>
        <span class="na">android:layout_width=</span><span class="s">"100dp"</span>
        <span class="na">android:layout_height=</span><span class="s">"0dp"</span>
        <span class="na">android:background=</span><span class="s">"#FFFF00"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:layout_width=</span><span class="s">"0dp"</span>
        <span class="na">android:layout_height=</span><span class="s">"300dp"</span>
        <span class="na">android:background=</span><span class="s">"#FF0000"</span>
        <span class="na">android:text=</span><span class="s">"Text"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintBottom_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintEnd_toStartOf=</span><span class="s">"@id/right"</span>
        <span class="na">app:layout_constraintStart_toEndOf=</span><span class="s">"@id/left"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintWidth_default=</span><span class="s">"spread"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;View</span>
        <span class="na">android:id=</span><span class="s">"@+id/right"</span>
        <span class="na">android:layout_width=</span><span class="s">"100dp"</span>
        <span class="na">android:layout_height=</span><span class="s">"0dp"</span>
        <span class="na">android:background=</span><span class="s">"#FFFF00"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;/android.support.constraint.ConstraintLayout&gt;</span>
</code></pre></div></div>

<p><img src="img/constraint_short_spread.png" width="400px" /></p>

<p><code class="highlighter-rouge">layout_width="0dp",  layout_constraintWidth_default="wrap"</code> для короткого текста:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;android.support.constraint.ConstraintLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>
    <span class="na">android:gravity=</span><span class="s">"bottom"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;View</span>
        <span class="na">android:id=</span><span class="s">"@+id/left"</span>
        <span class="na">android:layout_width=</span><span class="s">"100dp"</span>
        <span class="na">android:layout_height=</span><span class="s">"0dp"</span>
        <span class="na">android:background=</span><span class="s">"#FFFF00"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:layout_width=</span><span class="s">"0dp"</span>
        <span class="na">android:layout_height=</span><span class="s">"300dp"</span>
        <span class="na">android:background=</span><span class="s">"#FF0000"</span>
        <span class="na">android:text=</span><span class="s">"Text"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintBottom_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintEnd_toStartOf=</span><span class="s">"@id/right"</span>
        <span class="na">app:layout_constraintStart_toEndOf=</span><span class="s">"@id/left"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintWidth_default=</span><span class="s">"wrap"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;View</span>
        <span class="na">android:id=</span><span class="s">"@+id/right"</span>
        <span class="na">android:layout_width=</span><span class="s">"100dp"</span>
        <span class="na">android:layout_height=</span><span class="s">"0dp"</span>
        <span class="na">android:background=</span><span class="s">"#FFFF00"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;/android.support.constraint.ConstraintLayout&gt;</span>
</code></pre></div></div>

<p><img src="img/constraint_short_wrap.png" width="400px" /></p>

<p>Аналогичная работают атрибуты высоты <code class="highlighter-rouge">View</code>. При использовании значения <code class="highlighter-rouge">wrap_content</code> будьте внимательны и не забывайте, что иногда ваша <code class="highlighter-rouge">View</code> может выйти за границы <code class="highlighter-rouge">Constraints</code></p>

<p><strong>Нельзя</strong> использовать значения <code class="highlighter-rouge">match_parent</code> или <code class="highlighter-rouge">fill_parent</code>!</p>

<h2 id="bias-и-baseline">Bias и Baseline</h2>

<p><strong>Bias</strong></p>

<p>Если у <code class="highlighter-rouge">View</code> привязать два вертикальных <code class="highlighter-rouge">Constraints</code>, то ей можно выставить вертикальное относительное расположение, аналогично и для горизонтальных <code class="highlighter-rouge">Constraints</code>.</p>

<p>За положение относительно привязанных сторон отвечают два атрибута:</p>

<ul>
  <li><code class="highlighter-rouge">layout_constraintHorizontal_bias</code> - горизонтальное положение;</li>
  <li><code class="highlighter-rouge">layout_constraintVertical_bias</code> - вертикальное положение.</li>
</ul>

<p><code class="highlighter-rouge">Bias</code> принимают значения от 0 до 1.</p>

<p>Если нам нужно расположить <code class="highlighter-rouge">View</code> в крайнем левом положении, то <code class="highlighter-rouge">Bias</code> будет равен 0, справа - 1, по середине - 0.5.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;android.support.constraint.ConstraintLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>
    <span class="na">android:gravity=</span><span class="s">"bottom"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_1"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:text=</span><span class="s">"Text 1"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintHorizontal_bias=</span><span class="s">"0"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_2"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:text=</span><span class="s">"Text 2"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintHorizontal_bias=</span><span class="s">"0.5"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"@+id/text_1"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_3"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:text=</span><span class="s">"Text 3"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintHorizontal_bias=</span><span class="s">"1"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"@+id/text_2"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;/android.support.constraint.ConstraintLayout&gt;</span>
</code></pre></div></div>

<p><img src="img/bias.png" width="400px" /></p>

<p><strong>Baseline</strong></p>

<p><code class="highlighter-rouge">View</code>, привязанная по Baseline, не может быть ограничена ни снизу, ни сверху. Значения <code class="highlighter-rouge">Top Constraints</code> и <code class="highlighter-rouge">Bottom Constraints</code> будут проигнорированы.</p>

<p>Стоит обратить внимание, что так как мы не отвечаем за привязку верха и низа, то наше <code class="highlighter-rouge">View</code> может выйти за пределы родителя.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;android.support.constraint.ConstraintLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>
    <span class="na">android:gravity=</span><span class="s">"bottom"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_1"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#FFFF00"</span>
        <span class="na">android:text=</span><span class="s">"Text 1"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_2"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#FF0000"</span>
        <span class="na">android:text=</span><span class="s">"Text 2"</span>
        <span class="na">android:textSize=</span><span class="s">"60sp"</span>
        <span class="na">app:layout_constraintBaseline_toBaselineOf=</span><span class="s">"@+id/text_1"</span>
        <span class="na">app:layout_constraintStart_toEndOf=</span><span class="s">"@+id/text_1"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;/android.support.constraint.ConstraintLayout&gt;</span>
</code></pre></div></div>
<p><img src="img/wrong_baseline.png" width="400px" /></p>

<p>Правильно было бы привязать первое <code class="highlighter-rouge">TextView</code> ко второму:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;android.support.constraint.ConstraintLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>
    <span class="na">android:gravity=</span><span class="s">"bottom"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_1"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#FFFF00"</span>
        <span class="na">android:text=</span><span class="s">"Text 1"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintBaseline_toBaselineOf=</span><span class="s">"@+id/text_2"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_2"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#FF0000"</span>
        <span class="na">android:text=</span><span class="s">"Text 2"</span>
        <span class="na">android:textSize=</span><span class="s">"60sp"</span>
        <span class="na">app:layout_constraintStart_toEndOf=</span><span class="s">"@+id/text_1"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;/android.support.constraint.ConstraintLayout&gt;</span>
</code></pre></div></div>

<p><img src="img/right_baseline.png" width="400px" /></p>

<h2 id="chain-и-group">Chain и Group</h2>

<p><strong>Chain</strong></p>

<p>В случае, если вы привязали стороны элементов друг к другу последовательно - это элементы образуют цепь. К цепям применяются особые правила расположения.</p>

<p>Цепь элементов может существовать как сама по себе, так и может быть привязана к сторонам родителя.</p>

<p>Простейшая цепь элементов выглядит следующим образом:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;android.support.constraint.ConstraintLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>
    <span class="na">android:gravity=</span><span class="s">"bottom"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_1"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#FFFF00"</span>
        <span class="na">android:text=</span><span class="s">"Text 1"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintBottom_toTopOf=</span><span class="s">"@+id/text_2"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_2"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#FF0000"</span>
        <span class="na">android:text=</span><span class="s">"Text 2"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintBottom_toTopOf=</span><span class="s">"@+id/text_3"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"@+id/text_1"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_3"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#00ff00"</span>
        <span class="na">android:text=</span><span class="s">"Text 3"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintBottom_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"@+id/text_2"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;/android.support.constraint.ConstraintLayout&gt;</span>
</code></pre></div></div>
<p><img src="img/simple_chain.png" width="400px" /></p>

<p>Цепь элементов имеет тип <code class="highlighter-rouge">layout_constraintHorizontal_chainStyle</code> или <code class="highlighter-rouge">layout_constraintVertical_chainStyle</code>, по-умолчанию тип равен <code class="highlighter-rouge">spread</code>, что означает равномерно распределение элементов.</p>

<p>Для того, что бы установить тип цепи, необходимо добавить атрибут первому из элементов цепи.</p>

<p>Кроме типа <code class="highlighter-rouge">spread</code>, существуют и другие типы:</p>

<ul>
  <li><code class="highlighter-rouge">spread_inside</code>.  Элементы цепи расположены равномерно, но отступ от границы цепи, до родительского элемента отсутствует.</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;android.support.constraint.ConstraintLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>
    <span class="na">android:gravity=</span><span class="s">"bottom"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_1"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#FFFF00"</span>
        <span class="na">android:text=</span><span class="s">"Text 1"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintBottom_toTopOf=</span><span class="s">"@+id/text_2"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintVertical_chainStyle=</span><span class="s">"spread_inside"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_2"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#FF0000"</span>
        <span class="na">android:text=</span><span class="s">"Text 2"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintBottom_toTopOf=</span><span class="s">"@+id/text_3"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"@+id/text_1"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_3"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#00ff00"</span>
        <span class="na">android:text=</span><span class="s">"Text 3"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintBottom_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"@+id/text_2"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;/android.support.constraint.ConstraintLayout&gt;</span>
</code></pre></div></div>

<p><img src="img/spread_chain.png" width="400px" /></p>

<ul>
  <li><code class="highlighter-rouge">packed</code>.  Элементы расположены в центре цепи друг за другом.</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;android.support.constraint.ConstraintLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>
    <span class="na">android:gravity=</span><span class="s">"bottom"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_1"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#FFFF00"</span>
        <span class="na">android:text=</span><span class="s">"Text 1"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintBottom_toTopOf=</span><span class="s">"@+id/text_2"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintVertical_chainStyle=</span><span class="s">"packed"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_2"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#FF0000"</span>
        <span class="na">android:text=</span><span class="s">"Text 2"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintBottom_toTopOf=</span><span class="s">"@+id/text_3"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"@+id/text_1"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_3"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#00ff00"</span>
        <span class="na">android:text=</span><span class="s">"Text 3"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintBottom_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"@+id/text_2"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;/android.support.constraint.ConstraintLayout&gt;</span>
</code></pre></div></div>

<p><img src="img/packed_chain.png" width="400px" /></p>

<p><strong>Group</strong></p>

<p><code class="highlighter-rouge">Constraint Group</code> это группа элементов с одинаковой видимостью. Не стоит путать <code class="highlighter-rouge">Constraint Group</code> и <code class="highlighter-rouge">View Group</code>.</p>

<p>При помощи <code class="highlighter-rouge">Group</code> можно удобно скрывать или показывать элементы одновременно, не перебирая все из них по очереди. Хоть <code class="highlighter-rouge">Group</code> и находится внутри файла разметки, визуально они никак не отображается на экране.</p>

<p>Для разметки выше группа будет выглядеть следующим образом:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;android.support.constraint.ConstraintLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>
    <span class="na">android:gravity=</span><span class="s">"bottom"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_1"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#FFFF00"</span>
        <span class="na">android:text=</span><span class="s">"Text 1"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintBottom_toTopOf=</span><span class="s">"@+id/text_2"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintVertical_chainStyle=</span><span class="s">"packed"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_2"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#FF0000"</span>
        <span class="na">android:text=</span><span class="s">"Text 2"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintBottom_toTopOf=</span><span class="s">"@+id/text_3"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"@+id/text_1"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_3"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#00ff00"</span>
        <span class="na">android:text=</span><span class="s">"Text 3"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintBottom_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"@+id/text_2"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;android.support.constraint.Group</span>
        <span class="na">constraint_referenced_ids=</span><span class="s">"text_1,text_2,text_3"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;/android.support.constraint.ConstraintLayout&gt;</span>
</code></pre></div></div>

<h2 id="guideline-и-barrier">Guideline и Barrier</h2>

<p><strong>Guideline</strong></p>

<p><code class="highlighter-rouge">Guideline</code> это вспомогательная линия разметки. Она не имеет ширины и высоты, но относительно нее можно выравнивать другие элементы. <code class="highlighter-rouge">Guideline</code> всегда привязана только к сторонам родителя и может быть вертикальным или горизонтальным.</p>

<p>Расположение <code class="highlighter-rouge">Guideline</code> контролируется следующими атрибутами:</p>

<ul>
  <li><code class="highlighter-rouge">layout_constraintGuide_begin</code>. Для вертикальных <code class="highlighter-rouge">Guideline</code>- отступ от левой стороны родителя. Для горизонтальных - от верхней стороны;</li>
  <li><code class="highlighter-rouge">layout_constraintGuide_end</code>. Для вертикальных <code class="highlighter-rouge">Guideline</code>- отступ от правой стороны родителя. Для горизонтальных - от нижней стороны;</li>
  <li><code class="highlighter-rouge">layout_constraintGuide_percent</code>. Относительный отступ <code class="highlighter-rouge">Guideline</code> в процентах. Для вертикальных <code class="highlighter-rouge">Guideline</code> - от левой стороны. Для горизонтальных - от верхней стороны. Указывается числом от 0 до 1.</li>
</ul>

<p>Предположим, что нам нужно разместить элементы следующим образом:</p>

<p><img src="img/guidline.png" width="400px" /></p>

<p>Попробуем добавиться такого результата при помощи <code class="highlighter-rouge">Guideline</code>:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;android.support.constraint.ConstraintLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>
    <span class="na">android:gravity=</span><span class="s">"bottom"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;android.support.constraint.Guideline</span>
        <span class="na">android:id=</span><span class="s">"@+id/line_1"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:orientation=</span><span class="s">"vertical"</span>
        <span class="na">app:layout_constraintGuide_percent=</span><span class="s">"0.1"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;android.support.constraint.Guideline</span>
        <span class="na">android:id=</span><span class="s">"@+id/line_2"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:orientation=</span><span class="s">"vertical"</span>
        <span class="na">app:layout_constraintGuide_percent=</span><span class="s">"0.9"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;android.support.constraint.Guideline</span>
        <span class="na">android:id=</span><span class="s">"@+id/line_3"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:orientation=</span><span class="s">"horizontal"</span>
        <span class="na">app:layout_constraintGuide_percent=</span><span class="s">"0.1"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;android.support.constraint.Guideline</span>
        <span class="na">android:id=</span><span class="s">"@+id/line_4"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:orientation=</span><span class="s">"horizontal"</span>
        <span class="na">app:layout_constraintGuide_percent=</span><span class="s">"0.9"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_1"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#FFFF00"</span>
        <span class="na">android:text=</span><span class="s">"Text 1"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"@+id/line_1"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"@+id/line_3"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_2"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#FF0000"</span>
        <span class="na">android:text=</span><span class="s">"Text 2"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintEnd_toStartOf=</span><span class="s">"@+id/line_2"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"@+id/line_3"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_3"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#00ff00"</span>
        <span class="na">android:text=</span><span class="s">"Text 3"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintBottom_toTopOf=</span><span class="s">"@+id/line_4"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"@+id/line_1"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_4"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#ffa500"</span>
        <span class="na">android:text=</span><span class="s">"Text 4"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintBottom_toTopOf=</span><span class="s">"@+id/line_4"</span>
        <span class="na">app:layout_constraintEnd_toStartOf=</span><span class="s">"@+id/line_2"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;/android.support.constraint.ConstraintLayout&gt;</span>
</code></pre></div></div>

<p>Мы получили искомый результат. Если бы линии разметки были видимы, то экран бы выглядел следующим образом:</p>

<p><img src="img/guidline_lines.png" width="400px" /></p>

<p><strong>Barrier</strong></p>

<p><code class="highlighter-rouge">Barrier</code> – это невидимый <code class="highlighter-rouge">View</code> который применяется для нескольких объектов изначально неизвестного размера – если один из них увеличивается, то <code class="highlighter-rouge">Barrier</code> подстроит размер остальных под наибольшую высоту или ширину. Барьеры могут быть вертикальными и горизонтальными.</p>

<p>Предположим что у нас есть два <code class="highlighter-rouge">TextView</code> неизвестного размера, но мы хотим, что бы некий <code class="highlighter-rouge">ImageView</code> всегда был справа от них. Этого можно добиться следующим образом:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;android.support.constraint.ConstraintLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"match_parent"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_1"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#FF0000"</span>
        <span class="na">android:text=</span><span class="s">"Text 2"</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_2"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#00ff00"</span>
        <span class="na">android:text=</span><span class="s">"Text long long "</span>
        <span class="na">android:textSize=</span><span class="s">"30sp"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"@+id/text_1"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;android.support.constraint.Barrier</span>
        <span class="na">android:id=</span><span class="s">"@+id/barrier"</span>
        <span class="na">android:layout_width=</span><span class="s">"0dp"</span>
        <span class="na">android:layout_height=</span><span class="s">"0dp"</span>
        <span class="na">app:barrierDirection=</span><span class="s">"right"</span>
        <span class="na">app:constraint_referenced_ids=</span><span class="s">"text_1,text_2"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;ImageView</span>
        <span class="na">android:layout_width=</span><span class="s">"100dp"</span>
        <span class="na">android:layout_height=</span><span class="s">"100dp"</span>
        <span class="na">android:src=</span><span class="s">"@drawable/cat"</span>
        <span class="na">app:layout_constraintStart_toEndOf=</span><span class="s">"@+id/barrier"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;/android.support.constraint.ConstraintLayout&gt;</span>
</code></pre></div></div>

<p><img src="img/barrier_1.png" width="400px" /></p>

<p>Невидимая линия разметки проходит ровно справа самого длинного <code class="highlighter-rouge">TextView</code>:</p>

<p><img src="img/barrier_2.png" width="400px" /></p>

<p><img src="img/barrier_3.png" width="400px" /></p>

<h2 id="другие-возможности-constraintlayout">Другие возможности ConstraintLayout</h2>

<p>Библиотека <code class="highlighter-rouge">ConstraintLayout</code> переодически обновляется и добавляются все новые и новые возможности.</p>

<p><img src="img/new_in_constraint.gif" width="400px" /></p>

<p>Анимации, слои и прочие нововведения. За обновления удобнее всего следить на официальной <a href="https://androidstudio.googleblog.com/">странице</a>.</p>

<h2 id="что-почитать">Что почитать</h2>

<ul>
  <li>https://developer.android.com/reference/android/support/constraint/ConstraintLayout</li>
  <li>https://habr.com/ru/company/touchinstinct/blog/326814/</li>
  <li>https://android.jlelse.eu/whats-new-in-constraint-layout-1-1-0-acfe30cfc7be</li>
</ul>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
    
  </body>
</html>
